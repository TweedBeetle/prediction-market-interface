---
url: https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware
title: middleware - FastMCP
scraped_at: 2025-11-03T18:42:52.108558
---

[Skip to main content](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#content-area)

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)
!

[FastMCP home page![light logo](https://mintcdn.com/fastmcp/Lu2sdJVHDyHdvswk/assets/brand/wordmark.png?fit=max&auto=format&n=Lu2sdJVHDyHdvswk&q=85&s=67680e9b1c641023511881a24f296077)![dark logo](https://mintcdn.com/fastmcp/Lu2sdJVHDyHdvswk/assets/brand/wordmark-white.png?fit=max&auto=format&n=Lu2sdJVHDyHdvswk&q=85&s=776d9c0663633c9b9782b9f3f9785960)](https://gofastmcp.com/)

Search...

Navigation

middleware

middleware

Search the docs...

Ctrl K

SDK Reference

*   [Python SDK](https://gofastmcp.com/python-sdk/fastmcp-exceptions)
    

*   [exceptions](https://gofastmcp.com/python-sdk/fastmcp-exceptions)
    

*   [mcp\_config](https://gofastmcp.com/python-sdk/fastmcp-mcp_config)
    

*   [settings](https://gofastmcp.com/python-sdk/fastmcp-settings)
    

##### fastmcp.cli

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-cli-__init__)
    
*   [cli](https://gofastmcp.com/python-sdk/fastmcp-cli-cli)
    
*   install
    
*   [run](https://gofastmcp.com/python-sdk/fastmcp-cli-run)
    

##### fastmcp.client

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-client-__init__)
    
*   auth
    
*   [client](https://gofastmcp.com/python-sdk/fastmcp-client-client)
    
*   [elicitation](https://gofastmcp.com/python-sdk/fastmcp-client-elicitation)
    
*   [logging](https://gofastmcp.com/python-sdk/fastmcp-client-logging)
    
*   [messages](https://gofastmcp.com/python-sdk/fastmcp-client-messages)
    
*   [oauth\_callback](https://gofastmcp.com/python-sdk/fastmcp-client-oauth_callback)
    
*   [progress](https://gofastmcp.com/python-sdk/fastmcp-client-progress)
    
*   [roots](https://gofastmcp.com/python-sdk/fastmcp-client-roots)
    
*   [sampling](https://gofastmcp.com/python-sdk/fastmcp-client-sampling)
    
*   [transports](https://gofastmcp.com/python-sdk/fastmcp-client-transports)
    

##### fastmcp.prompts

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-prompts-__init__)
    
*   [prompt](https://gofastmcp.com/python-sdk/fastmcp-prompts-prompt)
    
*   [prompt\_manager](https://gofastmcp.com/python-sdk/fastmcp-prompts-prompt_manager)
    

##### fastmcp.resources

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-resources-__init__)
    
*   [resource](https://gofastmcp.com/python-sdk/fastmcp-resources-resource)
    
*   [resource\_manager](https://gofastmcp.com/python-sdk/fastmcp-resources-resource_manager)
    
*   [template](https://gofastmcp.com/python-sdk/fastmcp-resources-template)
    
*   [types](https://gofastmcp.com/python-sdk/fastmcp-resources-types)
    

##### fastmcp.server

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-server-__init__)
    
*   auth
    
*   [context](https://gofastmcp.com/python-sdk/fastmcp-server-context)
    
*   [dependencies](https://gofastmcp.com/python-sdk/fastmcp-server-dependencies)
    
*   [elicitation](https://gofastmcp.com/python-sdk/fastmcp-server-elicitation)
    
*   [http](https://gofastmcp.com/python-sdk/fastmcp-server-http)
    
*   [low\_level](https://gofastmcp.com/python-sdk/fastmcp-server-low_level)
    
*   middleware
    
    *   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-__init__)
        
    *   [caching](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching)
        
    *   [error\_handling](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-error_handling)
        
    *   [logging](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-logging)
        
    *   [middleware](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware)
        
    *   [rate\_limiting](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-rate_limiting)
        
    *   [timing](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-timing)
        
    *   [tool\_injection](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-tool_injection)
        
*   [openapi](https://gofastmcp.com/python-sdk/fastmcp-server-openapi)
    
*   [proxy](https://gofastmcp.com/python-sdk/fastmcp-server-proxy)
    
*   [server](https://gofastmcp.com/python-sdk/fastmcp-server-server)
    

##### fastmcp.tools

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-tools-__init__)
    
*   [tool](https://gofastmcp.com/python-sdk/fastmcp-tools-tool)
    
*   [tool\_manager](https://gofastmcp.com/python-sdk/fastmcp-tools-tool_manager)
    
*   [tool\_transform](https://gofastmcp.com/python-sdk/fastmcp-tools-tool_transform)
    

##### fastmcp.utilities

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-utilities-__init__)
    
*   [auth](https://gofastmcp.com/python-sdk/fastmcp-utilities-auth)
    
*   [cli](https://gofastmcp.com/python-sdk/fastmcp-utilities-cli)
    
*   [components](https://gofastmcp.com/python-sdk/fastmcp-utilities-components)
    
*   [exceptions](https://gofastmcp.com/python-sdk/fastmcp-utilities-exceptions)
    
*   [http](https://gofastmcp.com/python-sdk/fastmcp-utilities-http)
    
*   [inspect](https://gofastmcp.com/python-sdk/fastmcp-utilities-inspect)
    
*   [json\_schema](https://gofastmcp.com/python-sdk/fastmcp-utilities-json_schema)
    
*   [json\_schema\_type](https://gofastmcp.com/python-sdk/fastmcp-utilities-json_schema_type)
    
*   [logging](https://gofastmcp.com/python-sdk/fastmcp-utilities-logging)
    
*   [mcp\_config](https://gofastmcp.com/python-sdk/fastmcp-utilities-mcp_config)
    
*   mcp\_server\_config
    
*   [openapi](https://gofastmcp.com/python-sdk/fastmcp-utilities-openapi)
    
*   [tests](https://gofastmcp.com/python-sdk/fastmcp-utilities-tests)
    
*   [types](https://gofastmcp.com/python-sdk/fastmcp-utilities-types)
    
*   [ui](https://gofastmcp.com/python-sdk/fastmcp-utilities-ui)
    

On this page

*   [fastmcp.server.middleware.middleware](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#fastmcp-server-middleware-middleware)
    
*   [Functions](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#functions)
    
*   [make\_middleware\_wrapper](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#make-middleware-wrapper)
    
*   [Classes](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#classes)
    
*   [CallNext](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#callnext)
    
*   [MiddlewareContext](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#middlewarecontext)
    
*   [copy](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#copy)
    
*   [Middleware](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#middleware)
    
*   [on\_message](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-message)
    
*   [on\_request](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-request)
    
*   [on\_notification](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-notification)
    
*   [on\_initialize](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-initialize)
    
*   [on\_call\_tool](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-call-tool)
    
*   [on\_read\_resource](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-read-resource)
    
*   [on\_get\_prompt](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-get-prompt)
    
*   [on\_list\_tools](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-list-tools)
    
*   [on\_list\_resources](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-list-resources)
    
*   [on\_list\_resource\_templates](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-list-resource-templates)
    
*   [on\_list\_prompts](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-list-prompts)
    

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#fastmcp-server-middleware-middleware)

`fastmcp.server.middleware.middleware`
=========================================================================================================================================================

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#functions)

Functions
-------------------------------------------------------------------------------------------------

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#make-middleware-wrapper)

`make_middleware_wrapper`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L67)

Copy

    make_middleware_wrapper(middleware: Middleware, call_next: CallNext[T, R]) -> CallNext[T, R]
    

Create a wrapper that applies a single middleware to a context. The closure bakes in the middleware and call\_next function, so it can be passed to other functions that expect a call\_next function.

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#classes)

Classes
---------------------------------------------------------------------------------------------

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#callnext)

`CallNext`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L43)

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#middlewarecontext)

`MiddlewareContext`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L48)

Unified context for all middleware operations. **Methods:**

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#copy)

`copy`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L63)

Copy

    copy(self, **kwargs: Any) -> MiddlewareContext[T]
    

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#middleware)

`Middleware`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L80)

Base class for FastMCP middleware with dispatching hooks. **Methods:**

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-message)

`on_message`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L129)

Copy

    on_message(self, context: MiddlewareContext[Any], call_next: CallNext[Any, Any]) -> Any
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-request)

`on_request`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L136)

Copy

    on_request(self, context: MiddlewareContext[mt.Request[Any, Any]], call_next: CallNext[mt.Request[Any, Any], Any]) -> Any
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-notification)

`on_notification`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L143)

Copy

    on_notification(self, context: MiddlewareContext[mt.Notification[Any, Any]], call_next: CallNext[mt.Notification[Any, Any], Any]) -> Any
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-initialize)

`on_initialize`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L150)

Copy

    on_initialize(self, context: MiddlewareContext[mt.InitializeRequestParams], call_next: CallNext[mt.InitializeRequestParams, None]) -> None
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-call-tool)

`on_call_tool`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L157)

Copy

    on_call_tool(self, context: MiddlewareContext[mt.CallToolRequestParams], call_next: CallNext[mt.CallToolRequestParams, ToolResult]) -> ToolResult
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-read-resource)

`on_read_resource`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L164)

Copy

    on_read_resource(self, context: MiddlewareContext[mt.ReadResourceRequestParams], call_next: CallNext[mt.ReadResourceRequestParams, Sequence[ReadResourceContents]]) -> Sequence[ReadResourceContents]
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-get-prompt)

`on_get_prompt`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L173)

Copy

    on_get_prompt(self, context: MiddlewareContext[mt.GetPromptRequestParams], call_next: CallNext[mt.GetPromptRequestParams, mt.GetPromptResult]) -> mt.GetPromptResult
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-list-tools)

`on_list_tools`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L180)

Copy

    on_list_tools(self, context: MiddlewareContext[mt.ListToolsRequest], call_next: CallNext[mt.ListToolsRequest, Sequence[Tool]]) -> Sequence[Tool]
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-list-resources)

`on_list_resources`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L187)

Copy

    on_list_resources(self, context: MiddlewareContext[mt.ListResourcesRequest], call_next: CallNext[mt.ListResourcesRequest, Sequence[Resource]]) -> Sequence[Resource]
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-list-resource-templates)

`on_list_resource_templates`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L194)

Copy

    on_list_resource_templates(self, context: MiddlewareContext[mt.ListResourceTemplatesRequest], call_next: CallNext[mt.ListResourceTemplatesRequest, Sequence[ResourceTemplate]]) -> Sequence[ResourceTemplate]
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware#on-list-prompts)

`on_list_prompts`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/middleware.py#L203)

Copy

    on_list_prompts(self, context: MiddlewareContext[mt.ListPromptsRequest], call_next: CallNext[mt.ListPromptsRequest, Sequence[Prompt]]) -> Sequence[Prompt]
    

[logging\
\
Previous](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-logging)
[rate\_limiting\
\
Next](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-rate_limiting)

Ctrl+I

Assistant

Responses are generated using AI and may contain mistakes.