---
url: https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching
title: caching - FastMCP
scraped_at: 2025-11-03T18:42:52.313902
---

[Skip to main content](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#content-area)

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)
!

[FastMCP home page![light logo](https://mintcdn.com/fastmcp/Lu2sdJVHDyHdvswk/assets/brand/wordmark.png?fit=max&auto=format&n=Lu2sdJVHDyHdvswk&q=85&s=67680e9b1c641023511881a24f296077)![dark logo](https://mintcdn.com/fastmcp/Lu2sdJVHDyHdvswk/assets/brand/wordmark-white.png?fit=max&auto=format&n=Lu2sdJVHDyHdvswk&q=85&s=776d9c0663633c9b9782b9f3f9785960)](https://gofastmcp.com/)

Search...

Navigation

middleware

caching

Search the docs...

Ctrl K

SDK Reference

*   [Python SDK](https://gofastmcp.com/python-sdk/fastmcp-exceptions)
    

*   [exceptions](https://gofastmcp.com/python-sdk/fastmcp-exceptions)
    

*   [mcp\_config](https://gofastmcp.com/python-sdk/fastmcp-mcp_config)
    

*   [settings](https://gofastmcp.com/python-sdk/fastmcp-settings)
    

##### fastmcp.cli

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-cli-__init__)
    
*   [cli](https://gofastmcp.com/python-sdk/fastmcp-cli-cli)
    
*   install
    
*   [run](https://gofastmcp.com/python-sdk/fastmcp-cli-run)
    

##### fastmcp.client

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-client-__init__)
    
*   auth
    
*   [client](https://gofastmcp.com/python-sdk/fastmcp-client-client)
    
*   [elicitation](https://gofastmcp.com/python-sdk/fastmcp-client-elicitation)
    
*   [logging](https://gofastmcp.com/python-sdk/fastmcp-client-logging)
    
*   [messages](https://gofastmcp.com/python-sdk/fastmcp-client-messages)
    
*   [oauth\_callback](https://gofastmcp.com/python-sdk/fastmcp-client-oauth_callback)
    
*   [progress](https://gofastmcp.com/python-sdk/fastmcp-client-progress)
    
*   [roots](https://gofastmcp.com/python-sdk/fastmcp-client-roots)
    
*   [sampling](https://gofastmcp.com/python-sdk/fastmcp-client-sampling)
    
*   [transports](https://gofastmcp.com/python-sdk/fastmcp-client-transports)
    

##### fastmcp.prompts

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-prompts-__init__)
    
*   [prompt](https://gofastmcp.com/python-sdk/fastmcp-prompts-prompt)
    
*   [prompt\_manager](https://gofastmcp.com/python-sdk/fastmcp-prompts-prompt_manager)
    

##### fastmcp.resources

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-resources-__init__)
    
*   [resource](https://gofastmcp.com/python-sdk/fastmcp-resources-resource)
    
*   [resource\_manager](https://gofastmcp.com/python-sdk/fastmcp-resources-resource_manager)
    
*   [template](https://gofastmcp.com/python-sdk/fastmcp-resources-template)
    
*   [types](https://gofastmcp.com/python-sdk/fastmcp-resources-types)
    

##### fastmcp.server

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-server-__init__)
    
*   auth
    
*   [context](https://gofastmcp.com/python-sdk/fastmcp-server-context)
    
*   [dependencies](https://gofastmcp.com/python-sdk/fastmcp-server-dependencies)
    
*   [elicitation](https://gofastmcp.com/python-sdk/fastmcp-server-elicitation)
    
*   [http](https://gofastmcp.com/python-sdk/fastmcp-server-http)
    
*   [low\_level](https://gofastmcp.com/python-sdk/fastmcp-server-low_level)
    
*   middleware
    
    *   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-__init__)
        
    *   [caching](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching)
        
    *   [error\_handling](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-error_handling)
        
    *   [logging](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-logging)
        
    *   [middleware](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-middleware)
        
    *   [rate\_limiting](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-rate_limiting)
        
    *   [timing](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-timing)
        
    *   [tool\_injection](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-tool_injection)
        
*   [openapi](https://gofastmcp.com/python-sdk/fastmcp-server-openapi)
    
*   [proxy](https://gofastmcp.com/python-sdk/fastmcp-server-proxy)
    
*   [server](https://gofastmcp.com/python-sdk/fastmcp-server-server)
    

##### fastmcp.tools

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-tools-__init__)
    
*   [tool](https://gofastmcp.com/python-sdk/fastmcp-tools-tool)
    
*   [tool\_manager](https://gofastmcp.com/python-sdk/fastmcp-tools-tool_manager)
    
*   [tool\_transform](https://gofastmcp.com/python-sdk/fastmcp-tools-tool_transform)
    

##### fastmcp.utilities

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-utilities-__init__)
    
*   [auth](https://gofastmcp.com/python-sdk/fastmcp-utilities-auth)
    
*   [cli](https://gofastmcp.com/python-sdk/fastmcp-utilities-cli)
    
*   [components](https://gofastmcp.com/python-sdk/fastmcp-utilities-components)
    
*   [exceptions](https://gofastmcp.com/python-sdk/fastmcp-utilities-exceptions)
    
*   [http](https://gofastmcp.com/python-sdk/fastmcp-utilities-http)
    
*   [inspect](https://gofastmcp.com/python-sdk/fastmcp-utilities-inspect)
    
*   [json\_schema](https://gofastmcp.com/python-sdk/fastmcp-utilities-json_schema)
    
*   [json\_schema\_type](https://gofastmcp.com/python-sdk/fastmcp-utilities-json_schema_type)
    
*   [logging](https://gofastmcp.com/python-sdk/fastmcp-utilities-logging)
    
*   [mcp\_config](https://gofastmcp.com/python-sdk/fastmcp-utilities-mcp_config)
    
*   mcp\_server\_config
    
*   [openapi](https://gofastmcp.com/python-sdk/fastmcp-utilities-openapi)
    
*   [tests](https://gofastmcp.com/python-sdk/fastmcp-utilities-tests)
    
*   [types](https://gofastmcp.com/python-sdk/fastmcp-utilities-types)
    
*   [ui](https://gofastmcp.com/python-sdk/fastmcp-utilities-ui)
    

On this page

*   [fastmcp.server.middleware.caching](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#fastmcp-server-middleware-caching)
    
*   [Classes](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#classes)
    
*   [CachableReadResourceContents](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#cachablereadresourcecontents)
    
*   [get\_size](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#get-size)
    
*   [get\_sizes](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#get-sizes)
    
*   [wrap](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#wrap)
    
*   [unwrap](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#unwrap)
    
*   [CachableToolResult](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#cachabletoolresult)
    
*   [wrap](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#wrap-2)
    
*   [unwrap](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#unwrap-2)
    
*   [SharedMethodSettings](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#sharedmethodsettings)
    
*   [ListToolsSettings](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#listtoolssettings)
    
*   [ListResourcesSettings](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#listresourcessettings)
    
*   [ListPromptsSettings](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#listpromptssettings)
    
*   [CallToolSettings](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#calltoolsettings)
    
*   [ReadResourceSettings](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#readresourcesettings)
    
*   [GetPromptSettings](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#getpromptsettings)
    
*   [ResponseCachingStatistics](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#responsecachingstatistics)
    
*   [ResponseCachingMiddleware](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#responsecachingmiddleware)
    
*   [on\_list\_tools](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-list-tools)
    
*   [on\_list\_resources](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-list-resources)
    
*   [on\_list\_prompts](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-list-prompts)
    
*   [on\_call\_tool](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-call-tool)
    
*   [on\_read\_resource](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-read-resource)
    
*   [on\_get\_prompt](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-get-prompt)
    
*   [statistics](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#statistics)
    

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#fastmcp-server-middleware-caching)

`fastmcp.server.middleware.caching`
================================================================================================================================================

A middleware for response caching.

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#classes)

Classes
------------------------------------------------------------------------------------------

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#cachablereadresourcecontents)

`CachableReadResourceContents`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L38)

A wrapper for ReadResourceContents that can be cached. **Methods:**

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#get-size)

`get_size`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L44)

Copy

    get_size(self) -> int
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#get-sizes)

`get_sizes`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L48)

Copy

    get_sizes(cls, values: Sequence[Self]) -> int
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#wrap)

`wrap`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L52)

Copy

    wrap(cls, values: Sequence[ReadResourceContents]) -> list[Self]
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#unwrap)

`unwrap`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L56)

Copy

    unwrap(cls, values: Sequence[Self]) -> list[ReadResourceContents]
    

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#cachabletoolresult)

`CachableToolResult`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L63)

**Methods:**

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#wrap-2)

`wrap`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L68)

Copy

    wrap(cls, value: ToolResult) -> Self
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#unwrap-2)

`unwrap`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L71)

Copy

    unwrap(self) -> ToolResult
    

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#sharedmethodsettings)

`SharedMethodSettings`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L77)

Shared config for a cache method.

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#listtoolssettings)

`ListToolsSettings`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L84)

Configuration options for Tool-related caching.

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#listresourcessettings)

`ListResourcesSettings`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L88)

Configuration options for Resource-related caching.

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#listpromptssettings)

`ListPromptsSettings`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L92)

Configuration options for Prompt-related caching.

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#calltoolsettings)

`CallToolSettings`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L96)

Configuration options for Tool-related caching.

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#readresourcesettings)

`ReadResourceSettings`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L103)

Configuration options for Resource-related caching.

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#getpromptsettings)

`GetPromptSettings`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L107)

Configuration options for Prompt-related caching.

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#responsecachingstatistics)

`ResponseCachingStatistics`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L111)

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#responsecachingmiddleware)

`ResponseCachingMiddleware`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L120)

The response caching middleware offers a simple way to cache responses to mcp methods. The Middleware supports cache invalidation via notifications from the server. The Middleware implements TTL-based caching but cache implementations may offer additional features like LRU eviction, size limits, and more. When items are retrieved from the cache they will no longer be the original objects, but rather no-op objects this means that response caching may not be compatible with other middleware that expects original subclasses. Notes:

*   Caches `tools/call`, `resources/read`, `prompts/get`, `tools/list`, `resources/list`, and `prompts/list` requests.
*   Cache keys are derived from method name and arguments.

**Methods:**

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-list-tools)

`on_list_tools`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L226)

Copy

    on_list_tools(self, context: MiddlewareContext[mcp.types.ListToolsRequest], call_next: CallNext[mcp.types.ListToolsRequest, Sequence[Tool]]) -> Sequence[Tool]
    

List tools from the cache, if caching is enabled, and the result is in the cache. Otherwise, otherwise call the next middleware and store the result in the cache if caching is enabled.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-list-resources)

`on_list_resources`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L266)

Copy

    on_list_resources(self, context: MiddlewareContext[mcp.types.ListResourcesRequest], call_next: CallNext[mcp.types.ListResourcesRequest, Sequence[Resource]]) -> Sequence[Resource]
    

List resources from the cache, if caching is enabled, and the result is in the cache. Otherwise, otherwise call the next middleware and store the result in the cache if caching is enabled.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-list-prompts)

`on_list_prompts`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L306)

Copy

    on_list_prompts(self, context: MiddlewareContext[mcp.types.ListPromptsRequest], call_next: CallNext[mcp.types.ListPromptsRequest, Sequence[Prompt]]) -> Sequence[Prompt]
    

List prompts from the cache, if caching is enabled, and the result is in the cache. Otherwise, otherwise call the next middleware and store the result in the cache if caching is enabled.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-call-tool)

`on_call_tool`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L344)

Copy

    on_call_tool(self, context: MiddlewareContext[mcp.types.CallToolRequestParams], call_next: CallNext[mcp.types.CallToolRequestParams, ToolResult]) -> ToolResult
    

Call a tool from the cache, if caching is enabled, and the result is in the cache. Otherwise, otherwise call the next middleware and store the result in the cache if caching is enabled.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-read-resource)

`on_read_resource`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L377)

Copy

    on_read_resource(self, context: MiddlewareContext[mcp.types.ReadResourceRequestParams], call_next: CallNext[mcp.types.ReadResourceRequestParams, Sequence[ReadResourceContents]]) -> Sequence[ReadResourceContents]
    

Read a resource from the cache, if caching is enabled, and the result is in the cache. Otherwise, otherwise call the next middleware and store the result in the cache if caching is enabled.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#on-get-prompt)

`on_get_prompt`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L407)

Copy

    on_get_prompt(self, context: MiddlewareContext[mcp.types.GetPromptRequestParams], call_next: CallNext[mcp.types.GetPromptRequestParams, mcp.types.GetPromptResult]) -> mcp.types.GetPromptResult
    

Get a prompt from the cache, if caching is enabled, and the result is in the cache. Otherwise, otherwise call the next middleware and store the result in the cache if caching is enabled.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-caching#statistics)

`statistics`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/caching.py#L447)

Copy

    statistics(self) -> ResponseCachingStatistics
    

Get the statistics for the cache.

[\_\_init\_\_\
\
Previous](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-__init__)
[error\_handling\
\
Next](https://gofastmcp.com/python-sdk/fastmcp-server-middleware-error_handling)

Ctrl+I

Assistant

Responses are generated using AI and may contain mistakes.