---
url: https://gofastmcp.com/python-sdk/fastmcp-server-server
title: server - FastMCP
scraped_at: 2025-11-03T18:42:58.683955
---

[Skip to main content](https://gofastmcp.com/python-sdk/fastmcp-server-server#content-area)

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)
!

[FastMCP home page![light logo](https://mintcdn.com/fastmcp/Lu2sdJVHDyHdvswk/assets/brand/wordmark.png?fit=max&auto=format&n=Lu2sdJVHDyHdvswk&q=85&s=67680e9b1c641023511881a24f296077)![dark logo](https://mintcdn.com/fastmcp/Lu2sdJVHDyHdvswk/assets/brand/wordmark-white.png?fit=max&auto=format&n=Lu2sdJVHDyHdvswk&q=85&s=776d9c0663633c9b9782b9f3f9785960)](https://gofastmcp.com/)

Search...

Navigation

fastmcp.server

server

Search the docs...

Ctrl K

SDK Reference

*   [Python SDK](https://gofastmcp.com/python-sdk/fastmcp-exceptions)
    

*   [exceptions](https://gofastmcp.com/python-sdk/fastmcp-exceptions)
    

*   [mcp\_config](https://gofastmcp.com/python-sdk/fastmcp-mcp_config)
    

*   [settings](https://gofastmcp.com/python-sdk/fastmcp-settings)
    

##### fastmcp.cli

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-cli-__init__)
    
*   [cli](https://gofastmcp.com/python-sdk/fastmcp-cli-cli)
    
*   install
    
*   [run](https://gofastmcp.com/python-sdk/fastmcp-cli-run)
    

##### fastmcp.client

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-client-__init__)
    
*   auth
    
*   [client](https://gofastmcp.com/python-sdk/fastmcp-client-client)
    
*   [elicitation](https://gofastmcp.com/python-sdk/fastmcp-client-elicitation)
    
*   [logging](https://gofastmcp.com/python-sdk/fastmcp-client-logging)
    
*   [messages](https://gofastmcp.com/python-sdk/fastmcp-client-messages)
    
*   [oauth\_callback](https://gofastmcp.com/python-sdk/fastmcp-client-oauth_callback)
    
*   [progress](https://gofastmcp.com/python-sdk/fastmcp-client-progress)
    
*   [roots](https://gofastmcp.com/python-sdk/fastmcp-client-roots)
    
*   [sampling](https://gofastmcp.com/python-sdk/fastmcp-client-sampling)
    
*   [transports](https://gofastmcp.com/python-sdk/fastmcp-client-transports)
    

##### fastmcp.prompts

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-prompts-__init__)
    
*   [prompt](https://gofastmcp.com/python-sdk/fastmcp-prompts-prompt)
    
*   [prompt\_manager](https://gofastmcp.com/python-sdk/fastmcp-prompts-prompt_manager)
    

##### fastmcp.resources

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-resources-__init__)
    
*   [resource](https://gofastmcp.com/python-sdk/fastmcp-resources-resource)
    
*   [resource\_manager](https://gofastmcp.com/python-sdk/fastmcp-resources-resource_manager)
    
*   [template](https://gofastmcp.com/python-sdk/fastmcp-resources-template)
    
*   [types](https://gofastmcp.com/python-sdk/fastmcp-resources-types)
    

##### fastmcp.server

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-server-__init__)
    
*   auth
    
*   [context](https://gofastmcp.com/python-sdk/fastmcp-server-context)
    
*   [dependencies](https://gofastmcp.com/python-sdk/fastmcp-server-dependencies)
    
*   [elicitation](https://gofastmcp.com/python-sdk/fastmcp-server-elicitation)
    
*   [http](https://gofastmcp.com/python-sdk/fastmcp-server-http)
    
*   [low\_level](https://gofastmcp.com/python-sdk/fastmcp-server-low_level)
    
*   middleware
    
*   [openapi](https://gofastmcp.com/python-sdk/fastmcp-server-openapi)
    
*   [proxy](https://gofastmcp.com/python-sdk/fastmcp-server-proxy)
    
*   [server](https://gofastmcp.com/python-sdk/fastmcp-server-server)
    

##### fastmcp.tools

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-tools-__init__)
    
*   [tool](https://gofastmcp.com/python-sdk/fastmcp-tools-tool)
    
*   [tool\_manager](https://gofastmcp.com/python-sdk/fastmcp-tools-tool_manager)
    
*   [tool\_transform](https://gofastmcp.com/python-sdk/fastmcp-tools-tool_transform)
    

##### fastmcp.utilities

*   [\_\_init\_\_](https://gofastmcp.com/python-sdk/fastmcp-utilities-__init__)
    
*   [auth](https://gofastmcp.com/python-sdk/fastmcp-utilities-auth)
    
*   [cli](https://gofastmcp.com/python-sdk/fastmcp-utilities-cli)
    
*   [components](https://gofastmcp.com/python-sdk/fastmcp-utilities-components)
    
*   [exceptions](https://gofastmcp.com/python-sdk/fastmcp-utilities-exceptions)
    
*   [http](https://gofastmcp.com/python-sdk/fastmcp-utilities-http)
    
*   [inspect](https://gofastmcp.com/python-sdk/fastmcp-utilities-inspect)
    
*   [json\_schema](https://gofastmcp.com/python-sdk/fastmcp-utilities-json_schema)
    
*   [json\_schema\_type](https://gofastmcp.com/python-sdk/fastmcp-utilities-json_schema_type)
    
*   [logging](https://gofastmcp.com/python-sdk/fastmcp-utilities-logging)
    
*   [mcp\_config](https://gofastmcp.com/python-sdk/fastmcp-utilities-mcp_config)
    
*   mcp\_server\_config
    
*   [openapi](https://gofastmcp.com/python-sdk/fastmcp-utilities-openapi)
    
*   [tests](https://gofastmcp.com/python-sdk/fastmcp-utilities-tests)
    
*   [types](https://gofastmcp.com/python-sdk/fastmcp-utilities-types)
    
*   [ui](https://gofastmcp.com/python-sdk/fastmcp-utilities-ui)
    

On this page

*   [fastmcp.server.server](https://gofastmcp.com/python-sdk/fastmcp-server-server#fastmcp-server-server)
    
*   [Functions](https://gofastmcp.com/python-sdk/fastmcp-server-server#functions)
    
*   [default\_lifespan](https://gofastmcp.com/python-sdk/fastmcp-server-server#default-lifespan)
    
*   [add\_resource\_prefix](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-resource-prefix)
    
*   [remove\_resource\_prefix](https://gofastmcp.com/python-sdk/fastmcp-server-server#remove-resource-prefix)
    
*   [has\_resource\_prefix](https://gofastmcp.com/python-sdk/fastmcp-server-server#has-resource-prefix)
    
*   [Classes](https://gofastmcp.com/python-sdk/fastmcp-server-server#classes)
    
*   [FastMCP](https://gofastmcp.com/python-sdk/fastmcp-server-server#fastmcp)
    
*   [settings](https://gofastmcp.com/python-sdk/fastmcp-server-server#settings)
    
*   [name](https://gofastmcp.com/python-sdk/fastmcp-server-server#name)
    
*   [instructions](https://gofastmcp.com/python-sdk/fastmcp-server-server#instructions)
    
*   [instructions](https://gofastmcp.com/python-sdk/fastmcp-server-server#instructions-2)
    
*   [version](https://gofastmcp.com/python-sdk/fastmcp-server-server#version)
    
*   [website\_url](https://gofastmcp.com/python-sdk/fastmcp-server-server#website-url)
    
*   [icons](https://gofastmcp.com/python-sdk/fastmcp-server-server#icons)
    
*   [run\_async](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-async)
    
*   [run](https://gofastmcp.com/python-sdk/fastmcp-server-server#run)
    
*   [add\_middleware](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-middleware)
    
*   [get\_tools](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-tools)
    
*   [get\_tool](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-tool)
    
*   [get\_resources](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-resources)
    
*   [get\_resource](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-resource)
    
*   [get\_resource\_templates](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-resource-templates)
    
*   [get\_resource\_template](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-resource-template)
    
*   [get\_prompts](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-prompts)
    
*   [get\_prompt](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-prompt)
    
*   [custom\_route](https://gofastmcp.com/python-sdk/fastmcp-server-server#custom-route)
    
*   [add\_tool](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-tool)
    
*   [remove\_tool](https://gofastmcp.com/python-sdk/fastmcp-server-server#remove-tool)
    
*   [add\_tool\_transformation](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-tool-transformation)
    
*   [remove\_tool\_transformation](https://gofastmcp.com/python-sdk/fastmcp-server-server#remove-tool-transformation)
    
*   [tool](https://gofastmcp.com/python-sdk/fastmcp-server-server#tool)
    
*   [tool](https://gofastmcp.com/python-sdk/fastmcp-server-server#tool-2)
    
*   [tool](https://gofastmcp.com/python-sdk/fastmcp-server-server#tool-3)
    
*   [add\_resource](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-resource)
    
*   [add\_template](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-template)
    
*   [add\_resource\_fn](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-resource-fn)
    
*   [resource](https://gofastmcp.com/python-sdk/fastmcp-server-server#resource)
    
*   [add\_prompt](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-prompt)
    
*   [prompt](https://gofastmcp.com/python-sdk/fastmcp-server-server#prompt)
    
*   [prompt](https://gofastmcp.com/python-sdk/fastmcp-server-server#prompt-2)
    
*   [prompt](https://gofastmcp.com/python-sdk/fastmcp-server-server#prompt-3)
    
*   [run\_stdio\_async](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-stdio-async)
    
*   [run\_http\_async](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-http-async)
    
*   [run\_sse\_async](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-sse-async)
    
*   [sse\_app](https://gofastmcp.com/python-sdk/fastmcp-server-server#sse-app)
    
*   [streamable\_http\_app](https://gofastmcp.com/python-sdk/fastmcp-server-server#streamable-http-app)
    
*   [http\_app](https://gofastmcp.com/python-sdk/fastmcp-server-server#http-app)
    
*   [run\_streamable\_http\_async](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-streamable-http-async)
    
*   [mount](https://gofastmcp.com/python-sdk/fastmcp-server-server#mount)
    
*   [import\_server](https://gofastmcp.com/python-sdk/fastmcp-server-server#import-server)
    
*   [from\_openapi](https://gofastmcp.com/python-sdk/fastmcp-server-server#from-openapi)
    
*   [from\_fastapi](https://gofastmcp.com/python-sdk/fastmcp-server-server#from-fastapi)
    
*   [as\_proxy](https://gofastmcp.com/python-sdk/fastmcp-server-server#as-proxy)
    
*   [from\_client](https://gofastmcp.com/python-sdk/fastmcp-server-server#from-client)
    
*   [generate\_name](https://gofastmcp.com/python-sdk/fastmcp-server-server#generate-name)
    
*   [MountedServer](https://gofastmcp.com/python-sdk/fastmcp-server-server#mountedserver)
    

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#fastmcp-server-server)

`fastmcp.server.server`
============================================================================================================

FastMCP - A more ergonomic interface for MCP servers.

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#functions)

Functions
----------------------------------------------------------------------------------

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#default-lifespan)

`default_lifespan`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L108)

Copy

    default_lifespan(server: FastMCP[LifespanResultT]) -> AsyncIterator[Any]
    

Default lifespan context manager that does nothing. **Args:**

*   `server`: The server instance this lifespan is managing

**Returns:**

*   An empty dictionary as the lifespan result.

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-resource-prefix)

`add_resource_prefix`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2705)

Copy

    add_resource_prefix(uri: str, prefix: str, prefix_format: Literal['protocol', 'path'] | None = None) -> str
    

Add a prefix to a resource URI. **Args:**

*   `uri`: The original resource URI
*   `prefix`: The prefix to add

**Returns:**

*   The resource URI with the prefix added

**Examples:** With new style:

Copy

    add_resource_prefix("resource://path/to/resource", "prefix")
    "resource://prefix/path/to/resource"
    

With legacy style:

Copy

    add_resource_prefix("resource://path/to/resource", "prefix")
    "prefix+resource://path/to/resource"
    

With absolute path:

Copy

    add_resource_prefix("resource:///absolute/path", "prefix")
    "resource://prefix//absolute/path"
    

**Raises:**

*   `ValueError`: If the URI doesn’t match the expected protocol://path format

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#remove-resource-prefix)

`remove_resource_prefix`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2765)

Copy

    remove_resource_prefix(uri: str, prefix: str, prefix_format: Literal['protocol', 'path'] | None = None) -> str
    

Remove a prefix from a resource URI. **Args:**

*   `uri`: The resource URI with a prefix
*   `prefix`: The prefix to remove
*   `prefix_format`: The format of the prefix to remove

Returns: The resource URI with the prefix removed **Examples:** With new style:

Copy

    remove_resource_prefix("resource://prefix/path/to/resource", "prefix")
    "resource://path/to/resource"
    

With legacy style:

Copy

    remove_resource_prefix("prefix+resource://path/to/resource", "prefix")
    "resource://path/to/resource"
    

With absolute path:

Copy

    remove_resource_prefix("resource://prefix//absolute/path", "prefix")
    "resource:///absolute/path"
    

**Raises:**

*   `ValueError`: If the URI doesn’t match the expected protocol://path format

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#has-resource-prefix)

`has_resource_prefix`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2832)

Copy

    has_resource_prefix(uri: str, prefix: str, prefix_format: Literal['protocol', 'path'] | None = None) -> bool
    

Check if a resource URI has a specific prefix. **Args:**

*   `uri`: The resource URI to check
*   `prefix`: The prefix to look for

**Returns:**

*   True if the URI has the specified prefix, False otherwise

**Examples:** With new style:

Copy

    has_resource_prefix("resource://prefix/path/to/resource", "prefix")
    True
    

With legacy style:

Copy

    has_resource_prefix("prefix+resource://path/to/resource", "prefix")
    True
    

With other path:

Copy

    has_resource_prefix("resource://other/path/to/resource", "prefix")
    False
    

**Raises:**

*   `ValueError`: If the URI doesn’t match the expected protocol://path format

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#classes)

Classes
------------------------------------------------------------------------------

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#fastmcp)

`FastMCP`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L144)

**Methods:**

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#settings)

`settings`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L344)

Copy

    settings(self) -> Settings
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#name)

`name`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L355)

Copy

    name(self) -> str
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#instructions)

`instructions`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L359)

Copy

    instructions(self) -> str | None
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#instructions-2)

`instructions`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L363)

Copy

    instructions(self, value: str | None) -> None
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#version)

`version`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L367)

Copy

    version(self) -> str | None
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#website-url)

`website_url`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L371)

Copy

    website_url(self) -> str | None
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#icons)

`icons`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L375)

Copy

    icons(self) -> list[mcp.types.Icon]
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-async)

`run_async`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L402)

Copy

    run_async(self, transport: Transport | None = None, show_banner: bool = True, **transport_kwargs: Any) -> None
    

Run the FastMCP server asynchronously. **Args:**

*   `transport`: Transport protocol to use (“stdio”, “sse”, or “streamable-http”)

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#run)

`run`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L432)

Copy

    run(self, transport: Transport | None = None, show_banner: bool = True, **transport_kwargs: Any) -> None
    

Run the FastMCP server. Note this is a synchronous function. **Args:**

*   `transport`: Transport protocol to use (“stdio”, “sse”, or “streamable-http”)

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-middleware)

`add_middleware`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L476)

Copy

    add_middleware(self, middleware: Middleware) -> None
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-tools)

`get_tools`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L479)

Copy

    get_tools(self) -> dict[str, Tool]
    

Get all tools (unfiltered), including mounted servers, indexed by key.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-tool)

`get_tool`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L499)

Copy

    get_tool(self, key: str) -> Tool
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-resources)

`get_resources`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L505)

Copy

    get_resources(self) -> dict[str, Resource]
    

Get all resources (unfiltered), including mounted servers, indexed by key.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-resource)

`get_resource`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L538)

Copy

    get_resource(self, key: str) -> Resource
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-resource-templates)

`get_resource_templates`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L544)

Copy

    get_resource_templates(self) -> dict[str, ResourceTemplate]
    

Get all resource templates (unfiltered), including mounted servers, indexed by key.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-resource-template)

`get_resource_template`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L577)

Copy

    get_resource_template(self, key: str) -> ResourceTemplate
    

Get a registered resource template by key.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-prompts)

`get_prompts`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L584)

Copy

    get_prompts(self) -> dict[str, Prompt]
    

Get all prompts (unfiltered), including mounted servers, indexed by key.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#get-prompt)

`get_prompt`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L604)

Copy

    get_prompt(self, key: str) -> Prompt
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#custom-route)

`custom_route`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L610)

Copy

    custom_route(self, path: str, methods: list[str], name: str | None = None, include_in_schema: bool = True) -> Callable[[Callable[[Request], Awaitable[Response]]], Callable[[Request], Awaitable[Response]]]
    

Decorator to register a custom HTTP route on the FastMCP server. Allows adding arbitrary HTTP endpoints outside the standard MCP protocol, which can be useful for OAuth callbacks, health checks, or admin APIs. The handler function must be an async function that accepts a Starlette Request and returns a Response. **Args:**

*   `path`: URL path for the route (e.g., “/auth/callback”)
*   `methods`: List of HTTP methods to support (e.g., \[“GET”, “POST”\])
*   `name`: Optional name for the route (to reference this route with Starlette’s reverse URL lookup feature)
*   `include_in_schema`: Whether to include in OpenAPI schema, defaults to True

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-tool)

`add_tool`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1307)

Copy

    add_tool(self, tool: Tool) -> Tool
    

Add a tool to the server. The tool function can optionally request a Context object by adding a parameter with the Context type annotation. See the @tool decorator for examples. **Args:**

*   `tool`: The Tool instance to register

**Returns:**

*   The tool instance that was added to the server.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#remove-tool)

`remove_tool`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1332)

Copy

    remove_tool(self, name: str) -> None
    

Remove a tool from the server. **Args:**

*   `name`: The name of the tool to remove

**Raises:**

*   `NotFoundError`: If the tool is not found

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-tool-transformation)

`add_tool_transformation`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1352)

Copy

    add_tool_transformation(self, tool_name: str, transformation: ToolTransformConfig) -> None
    

Add a tool transformation.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#remove-tool-transformation)

`remove_tool_transformation`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1358)

Copy

    remove_tool_transformation(self, tool_name: str) -> None
    

Remove a tool transformation.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#tool)

`tool`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1363)

Copy

    tool(self, name_or_fn: AnyFunction) -> FunctionTool
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#tool-2)

`tool`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1380)

Copy

    tool(self, name_or_fn: str | None = None) -> Callable[[AnyFunction], FunctionTool]
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#tool-3)

`tool`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1396)

Copy

    tool(self, name_or_fn: str | AnyFunction | None = None) -> Callable[[AnyFunction], FunctionTool] | FunctionTool
    

Decorator to register a tool. Tools can optionally request a Context object by adding a parameter with the Context type annotation. The context provides access to MCP capabilities like logging, progress reporting, and resource access. This decorator supports multiple calling patterns:

*   @server.tool (without parentheses)
*   @server.tool (with empty parentheses)
*   @server.tool(“custom\_name”) (with name as first argument)
*   @server.tool(name=“custom\_name”) (with name as keyword argument)
*   server.tool(function, name=“custom\_name”) (direct function call)

**Args:**

*   `name_or_fn`: Either a function (when used as @tool), a string name, or None
*   `name`: Optional name for the tool (keyword-only, alternative to name\_or\_fn)
*   `description`: Optional description of what the tool does
*   `tags`: Optional set of tags for categorizing the tool
*   `output_schema`: Optional JSON schema for the tool’s output
*   `annotations`: Optional annotations about the tool’s behavior
*   `exclude_args`: Optional list of argument names to exclude from the tool schema
*   `meta`: Optional meta information about the tool
*   `enabled`: Optional boolean to enable or disable the tool

**Examples:** Register a tool with a custom name:

Copy

    @server.tool
    def my_tool(x: int) -> str:
        return str(x)
    
    # Register a tool with a custom name
    @server.tool
    def my_tool(x: int) -> str:
        return str(x)
    
    @server.tool("custom_name")
    def my_tool(x: int) -> str:
        return str(x)
    
    @server.tool(name="custom_name")
    def my_tool(x: int) -> str:
        return str(x)
    
    # Direct function call
    server.tool(my_function, name="custom_name")
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-resource)

`add_resource`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1530)

Copy

    add_resource(self, resource: Resource) -> Resource
    

Add a resource to the server. **Args:**

*   `resource`: A Resource instance to add

**Returns:**

*   The resource instance that was added to the server.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-template)

`add_template`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1552)

Copy

    add_template(self, template: ResourceTemplate) -> ResourceTemplate
    

Add a resource template to the server. **Args:**

*   `template`: A ResourceTemplate instance to add

**Returns:**

*   The template instance that was added to the server.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-resource-fn)

`add_resource_fn`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1574)

Copy

    add_resource_fn(self, fn: AnyFunction, uri: str, name: str | None = None, description: str | None = None, mime_type: str | None = None, tags: set[str] | None = None) -> None
    

Add a resource or template to the server from a function. If the URI contains parameters (e.g. “resource://”) or the function has parameters, it will be registered as a template resource. **Args:**

*   `fn`: The function to register as a resource
*   `uri`: The URI for the resource
*   `name`: Optional name for the resource
*   `description`: Optional description of the resource
*   `mime_type`: Optional MIME type for the resource
*   `tags`: Optional set of tags for categorizing the resource

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#resource)

`resource`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1612)

Copy

    resource(self, uri: str) -> Callable[[AnyFunction], Resource | ResourceTemplate]
    

Decorator to register a function as a resource. The function will be called when the resource is read to generate its content. The function can return:

*   str for text content
*   bytes for binary content
*   other types will be converted to JSON

Resources can optionally request a Context object by adding a parameter with the Context type annotation. The context provides access to MCP capabilities like logging, progress reporting, and session information. If the URI contains parameters (e.g. “resource://”) or the function has parameters, it will be registered as a template resource. **Args:**

*   `uri`: URI for the resource (e.g. “resource://my-resource” or “resource://”)
*   `name`: Optional name for the resource
*   `description`: Optional description of the resource
*   `mime_type`: Optional MIME type for the resource
*   `tags`: Optional set of tags for categorizing the resource
*   `enabled`: Optional boolean to enable or disable the resource
*   `annotations`: Optional annotations about the resource’s behavior
*   `meta`: Optional meta information about the resource

**Examples:** Register a resource with a custom name:

Copy

    @server.resource("resource://my-resource")
    def get_data() -> str:
        return "Hello, world!"
    
    @server.resource("resource://my-resource")
    async get_data() -> str:
        data = await fetch_data()
        return f"Hello, world! {data}"
    
    @server.resource("resource://{city}/weather")
    def get_weather(city: str) -> str:
        return f"Weather for {city}"
    
    @server.resource("resource://{city}/weather")
    async def get_weather_with_context(city: str, ctx: Context) -> str:
        await ctx.info(f"Fetching weather for {city}")
        return f"Weather for {city}"
    
    @server.resource("resource://{city}/weather")
    async def get_weather(city: str) -> str:
        data = await fetch_weather(city)
        return f"Weather for {city}: {data}"
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#add-prompt)

`add_prompt`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1752)

Copy

    add_prompt(self, prompt: Prompt) -> Prompt
    

Add a prompt to the server. **Args:**

*   `prompt`: A Prompt instance to add

**Returns:**

*   The prompt instance that was added to the server.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#prompt)

`prompt`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1775)

Copy

    prompt(self, name_or_fn: AnyFunction) -> FunctionPrompt
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#prompt-2)

`prompt`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1789)

Copy

    prompt(self, name_or_fn: str | None = None) -> Callable[[AnyFunction], FunctionPrompt]
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#prompt-3)

`prompt`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1802)

Copy

    prompt(self, name_or_fn: str | AnyFunction | None = None) -> Callable[[AnyFunction], FunctionPrompt] | FunctionPrompt
    

Decorator to register a prompt. Prompts can optionally request a Context object by adding a parameter with the Context type annotation. The context provides access to MCP capabilities like logging, progress reporting, and session information. This decorator supports multiple calling patterns:

*   @server.prompt (without parentheses)
*   @server.prompt() (with empty parentheses)
*   @server.prompt(“custom\_name”) (with name as first argument)
*   @server.prompt(name=“custom\_name”) (with name as keyword argument)
*   server.prompt(function, name=“custom\_name”) (direct function call)

Args: name\_or\_fn: Either a function (when used as @prompt), a string name, or None name: Optional name for the prompt (keyword-only, alternative to name\_or\_fn) description: Optional description of what the prompt does tags: Optional set of tags for categorizing the prompt enabled: Optional boolean to enable or disable the prompt meta: Optional meta information about the prompt Examples:

Copy

    @server.prompt
    def analyze_table(table_name: str) -> list[Message]:
        schema = read_table_schema(table_name)
        return [\
            {\
                "role": "user",\
                "content": f"Analyze this schema:\
    {schema}"\
            }\
        ]
    
    @server.prompt()
    async def analyze_with_context(table_name: str, ctx: Context) -> list[Message]:
        await ctx.info(f"Analyzing table {table_name}")
        schema = read_table_schema(table_name)
        return [\
            {\
                "role": "user",\
                "content": f"Analyze this schema:\
    {schema}"\
            }\
        ]
    
    @server.prompt("custom_name")
    async def analyze_file(path: str) -> list[Message]:
        content = await read_file(path)
        return [\
            {\
                "role": "user",\
                "content": {\
                    "type": "resource",\
                    "resource": {\
                        "uri": f"file://{path}",\
                        "text": content\
                    }\
                }\
            }\
        ]
    
    @server.prompt(name="custom_name")
    def another_prompt(data: str) -> list[Message]:
        return [{"role": "user", "content": data}]
    
    # Direct function call
    server.prompt(my_function, name="custom_name")
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-stdio-async)

`run_stdio_async`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1946)

Copy

    run_stdio_async(self, show_banner: bool = True, log_level: str | None = None) -> None
    

Run the server using stdio transport. **Args:**

*   `show_banner`: Whether to display the server banner
*   `log_level`: Log level for the server

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-http-async)

`run_http_async`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1976)

Copy

    run_http_async(self, show_banner: bool = True, transport: Literal['http', 'streamable-http', 'sse'] = 'http', host: str | None = None, port: int | None = None, log_level: str | None = None, path: str | None = None, uvicorn_config: dict[str, Any] | None = None, middleware: list[ASGIMiddleware] | None = None, json_response: bool | None = None, stateless_http: bool | None = None) -> None
    

Run the server using HTTP transport. **Args:**

*   `transport`: Transport protocol to use - either “streamable-http” (default) or “sse”
*   `host`: Host address to bind to (defaults to settings.host)
*   `port`: Port to bind to (defaults to settings.port)
*   `log_level`: Log level for the server (defaults to settings.log\_level)
*   `path`: Path for the endpoint (defaults to settings.streamable\_http\_path or settings.sse\_path)
*   `uvicorn_config`: Additional configuration for the Uvicorn server
*   `middleware`: A list of middleware to apply to the app
*   `json_response`: Whether to use JSON response format (defaults to settings.json\_response)
*   `stateless_http`: Whether to use stateless HTTP (defaults to settings.stateless\_http)

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-sse-async)

`run_sse_async`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2055)

Copy

    run_sse_async(self, host: str | None = None, port: int | None = None, log_level: str | None = None, path: str | None = None, uvicorn_config: dict[str, Any] | None = None) -> None
    

Run the server using SSE transport.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#sse-app)

`sse_app`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2083)

Copy

    sse_app(self, path: str | None = None, message_path: str | None = None, middleware: list[ASGIMiddleware] | None = None) -> StarletteWithLifespan
    

Create a Starlette app for the SSE server. **Args:**

*   `path`: The path to the SSE endpoint
*   `message_path`: The path to the message endpoint
*   `middleware`: A list of middleware to apply to the app

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#streamable-http-app)

`streamable_http_app`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2114)

Copy

    streamable_http_app(self, path: str | None = None, middleware: list[ASGIMiddleware] | None = None) -> StarletteWithLifespan
    

Create a Starlette app for the StreamableHTTP server. **Args:**

*   `path`: The path to the StreamableHTTP endpoint
*   `middleware`: A list of middleware to apply to the app

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#http-app)

`http_app`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2135)

Copy

    http_app(self, path: str | None = None, middleware: list[ASGIMiddleware] | None = None, json_response: bool | None = None, stateless_http: bool | None = None, transport: Literal['http', 'streamable-http', 'sse'] = 'http') -> StarletteWithLifespan
    

Create a Starlette app using the specified HTTP transport. **Args:**

*   `path`: The path for the HTTP endpoint
*   `middleware`: A list of middleware to apply to the app
*   `transport`: Transport protocol to use - either “streamable-http” (default) or “sse”

**Returns:**

*   A Starlette application configured with the specified transport

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#run-streamable-http-async)

`run_streamable_http_async`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2184)

Copy

    run_streamable_http_async(self, host: str | None = None, port: int | None = None, log_level: str | None = None, path: str | None = None, uvicorn_config: dict[str, Any] | None = None) -> None
    

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#mount)

`mount`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2209)

Copy

    mount(self, server: FastMCP[LifespanResultT], prefix: str | None = None, as_proxy: bool | None = None) -> None
    

Mount another FastMCP server on this server with an optional prefix. Unlike importing (with import\_server), mounting establishes a dynamic connection between servers. When a client interacts with a mounted server’s objects through the parent server, requests are forwarded to the mounted server in real-time. This means changes to the mounted server are immediately reflected when accessed through the parent. When a server is mounted with a prefix:

*   Tools from the mounted server are accessible with prefixed names. Example: If server has a tool named “get\_weather”, it will be available as “prefix\_get\_weather”.
*   Resources are accessible with prefixed URIs. Example: If server has a resource with URI “weather://forecast”, it will be available as “weather://prefix/forecast”.
*   Templates are accessible with prefixed URI templates. Example: If server has a template with URI “weather://location/”, it will be available as “weather://prefix/location/”.
*   Prompts are accessible with prefixed names. Example: If server has a prompt named “weather\_prompt”, it will be available as “prefix\_weather\_prompt”.

When a server is mounted without a prefix (prefix=None), its tools, resources, templates, and prompts are accessible with their original names. Multiple servers can be mounted without prefixes, and they will be tried in order until a match is found. There are two modes for mounting servers:

1.  Direct mounting (default when server has no custom lifespan): The parent server directly accesses the mounted server’s objects in-memory for better performance. In this mode, no client lifecycle events occur on the mounted server, including lifespan execution.
2.  Proxy mounting (default when server has a custom lifespan): The parent server treats the mounted server as a separate entity and communicates with it via a Client transport. This preserves all client-facing behaviors, including lifespan execution, but with slightly higher overhead.

**Args:**

*   `server`: The FastMCP server to mount.
*   `prefix`: Optional prefix to use for the mounted server’s objects. If None, the server’s objects are accessible with their original names.
*   `as_proxy`: Whether to treat the mounted server as a proxy. If None (default), automatically determined based on whether the server has a custom lifespan (True if it has a custom lifespan, False otherwise).
*   `tool_separator`: Deprecated. Separator character for tool names.
*   `resource_separator`: Deprecated. Separator character for resource URIs.
*   `prompt_separator`: Deprecated. Separator character for prompt names.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#import-server)

`import_server`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2328)

Copy

    import_server(self, server: FastMCP[LifespanResultT], prefix: str | None = None, tool_separator: str | None = None, resource_separator: str | None = None, prompt_separator: str | None = None) -> None
    

Import the MCP objects from another FastMCP server into this one, optionally with a given prefix. Note that when a server is _imported_, its objects are immediately registered to the importing server. This is a one-time operation and future changes to the imported server will not be reflected in the importing server. Server-level configurations and lifespans are not imported. When a server is imported with a prefix:

*   The tools are imported with prefixed names Example: If server has a tool named “get\_weather”, it will be available as “prefix\_get\_weather”
*   The resources are imported with prefixed URIs using the new format Example: If server has a resource with URI “weather://forecast”, it will be available as “weather://prefix/forecast”
*   The templates are imported with prefixed URI templates using the new format Example: If server has a template with URI “weather://location/”, it will be available as “weather://prefix/location/”
*   The prompts are imported with prefixed names Example: If server has a prompt named “weather\_prompt”, it will be available as “prefix\_weather\_prompt”

When a server is imported without a prefix (prefix=None), its tools, resources, templates, and prompts are imported with their original names. **Args:**

*   `server`: The FastMCP server to import
*   `prefix`: Optional prefix to use for the imported server’s objects. If None, objects are imported with their original names.
*   `tool_separator`: Deprecated. Separator for tool names.
*   `resource_separator`: Deprecated and ignored. Prefix is now applied using the protocol://prefix/path format
*   `prompt_separator`: Deprecated. Separator for prompt names.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#from-openapi)

`from_openapi`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2466)

Copy

    from_openapi(cls, openapi_spec: dict[str, Any], client: httpx.AsyncClient, route_maps: list[RouteMap] | list[RouteMapNew] | None = None, route_map_fn: OpenAPIRouteMapFn | OpenAPIRouteMapFnNew | None = None, mcp_component_fn: OpenAPIComponentFn | OpenAPIComponentFnNew | None = None, mcp_names: dict[str, str] | None = None, tags: set[str] | None = None, **settings: Any) -> FastMCPOpenAPI | FastMCPOpenAPINew
    

Create a FastMCP server from an OpenAPI specification.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#from-fastapi)

`from_fastapi`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2515)

Copy

    from_fastapi(cls, app: Any, name: str | None = None, route_maps: list[RouteMap] | list[RouteMapNew] | None = None, route_map_fn: OpenAPIRouteMapFn | OpenAPIRouteMapFnNew | None = None, mcp_component_fn: OpenAPIComponentFn | OpenAPIComponentFnNew | None = None, mcp_names: dict[str, str] | None = None, httpx_client_kwargs: dict[str, Any] | None = None, tags: set[str] | None = None, **settings: Any) -> FastMCPOpenAPI | FastMCPOpenAPINew
    

Create a FastMCP server from a FastAPI application.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#as-proxy)

`as_proxy`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2578)

Copy

    as_proxy(cls, backend: Client[ClientTransportT] | ClientTransport | FastMCP[Any] | AnyUrl | Path | MCPConfig | dict[str, Any] | str, **settings: Any) -> FastMCPProxy
    

Create a FastMCP proxy server for the given backend. The `backend` argument can be either an existing `fastmcp.client.Client` instance or any value accepted as the `transport` argument of `fastmcp.client.Client`. This mirrors the convenience of the `fastmcp.client.Client` constructor.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#from-client)

`from_client`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2637)

Copy

    from_client(cls, client: Client[ClientTransportT], **settings: Any) -> FastMCPProxy
    

Create a FastMCP proxy server from a FastMCP client.

#### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#generate-name)

`generate_name`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2689)

Copy

    generate_name(cls, name: str | None = None) -> str
    

### 

[​](https://gofastmcp.com/python-sdk/fastmcp-server-server#mountedserver)

`MountedServer`[](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2699)

[proxy\
\
Previous](https://gofastmcp.com/python-sdk/fastmcp-server-proxy)
[\_\_init\_\_\
\
Next](https://gofastmcp.com/python-sdk/fastmcp-tools-__init__)

Ctrl+I

Assistant

Responses are generated using AI and may contain mistakes.